con <- dbConnect(SQLite(), "encuesta.sqlite")
con <- dbConnect(SQLite(), "encuesta.sqlite")
shiny::runApp()
runApp()
if (!file.exists(db_path)) {
message("La base no existe.")
} else {
con <- dbConnect(SQLite(), db_path)
dbExecute(con, "DELETE FROM respuestas;")
dbDisconnect(con)
message("✔ Base limpiada por completo.")
}
runApp()
if (file.exists(db_path)) {
file.remove(db_path)
message("✔ Archivo de base eliminado.")
}
shiny::runApp()
gc()
dbDisconnect(con)
if ("logs" %in% tablas) {
dbExecute(con, "DELETE FROM logs;")
message("✔ Tabla 'logs' vaciada.")
} else {
message("La tabla 'logs' no existe.")
}
# Obtener todas las tablas disponibles
tablas <- dbListTables(con)
dbDisconnect(con)
# Listado de tablas
tablas <- dbListTables(con)
gc()
# Listado de tablas
tablas <- dbListTables(con)
dbDisconnect(con)
load("Z:/z_PISA-Uruguay/z_IT/FormGURI/.RData")
load("Z:/z_PISA-Uruguay/z_IT/FormGURI/.RData")
source("ver_base.R")
source("verData.R")
shiny::runApp()
source("verData.R")
con <- dbConnect(RSQLite::SQLite(), ruta_db)
runApp()
if (!("logs" %in% tablas)) {
dbDisconnect(con)
stop("❌ La tabla 'logs' no existe dentro de la base.")
}
getwd()
# 3. Obtener listado de tablas (opcional)
tablas <- dbListTables(con)
# 2. Conectar
con <- dbConnect(SQLite(), db_path)
# 2. Verificar que existe
if (!file.exists(db_path)) stop("❌ No se encontró la base en: ", db_path)
# 1. Definir la ruta de la base
db_path <- "Z:\z_PISA-Uruguay\z_IT\FormGURIencuesta.sqlite"
# 1. Definir la ruta de la base
db_path <- "Z:/z_PISA-Uruguay/z_IT/FormGURI/encuesta.sqlite"
# 1. Definir la ruta de la base
db_path <- "Z:/z_PISA-Uruguay/z_IT/FormGURI/encuesta.sqlite"
shiny::runApp()
} else {
library(DBI)
library(DBI)
runApp()
ruta_db <- "Z:/z_PISA-Uruguay/z_IT/FormGURI/encuesta.sqlite"
library(DBI)
library(RSQLite)
ruta_db <- "Z:/z_PISA-Uruguay/z_IT/FormGURI/encuesta.sqlite"
# Crear carpeta si no existe
if (!dir.exists("data")) dir.create("data")
con <- dbConnect(RSQLite::SQLite(), ruta_db)
tablas <- dbListTables(con)
if ("logs" %in% tablas) {
dbExecute(con, "DELETE FROM logs;")
message("✔ Se vació la tabla 'logs'. (0 filas ahora)")
} else {
# Si la tabla no existe, la creo
dbExecute(con, "
CREATE TABLE logs (
session_id TEXT PRIMARY KEY,
nombre TEXT,
edad INTEGER,
fecha_inicio TEXT,
ultima_actualizacion TEXT,
completado INTEGER
);
")
message("✔ La tabla 'logs' no existía, así que fue creada.")
}
dbDisconnect(con)
message("✔ Conexión cerrada.")
"Z:/z_PISA-Uruguay/z_IT/FormGURI/encuesta.sqlite"
"Z:/z_PISA-Uruguay/z_IT/FormGURI/encuesta.sqlite"
"Z:/z_PISA-Uruguay/z_IT/FormGURI/encuesta.sqlite"
"Z:/z_PISA-Uruguay/z_IT/FormGURI/encuesta.sqlite"
"Z:/z_PISA-Uruguay/z_IT/FormGURI/encuesta.sqlite"
"Z:/z_PISA-Uruguay/z_IT/FormGURI/encuesta.sqlite"
"Z:/z_PISA-Uruguay/z_IT/FormGURI/encuesta.sqlite"
"Z:/z_PISA-Uruguay/z_IT/FormGURI/encuesta.sqlite"
# 1. Definir la ruta de la base
db_path <- "Z:/z_PISA-Uruguay/z_IT/FormGURI/data/encuesta.sqlite"
# 2. Verificar que existe
if (!file.exists(db_path)) stop("❌ No se encontró la base en: ", db_path)
# 3. Conectar
con <- dbConnect(SQLite(), db_path)
# 4. Listar tablas
tablas <- dbListTables(con)
print(tablas)
# 5. Cargar tabla logs
if ("logs" %in% tablas) {
logs_df <- dbReadTable(con, "logs")
head(logs_df)
} else {
logs_df <- NULL
warning("La tabla 'logs' no existe.")
}
View(logs_df)
View(logs_df)
# 6. Cerrar conexión
dbDisconnect(con)
View(con)
View(con)
runApp()
#!/usr/bin/env Rscript
library(DBI)
library(RSQLite)
ruta_db <- "Z:/z_PISA-Uruguay/z_IT/FormGURI/encuesta.sqlite"
# Crear carpeta si no existe
if (!dir.exists("data")) dir.create("data")
con <- dbConnect(RSQLite::SQLite(), ruta_db)
tablas <- dbListTables(con)
if ("logs" %in% tablas) {
dbExecute(con, "DELETE FROM logs;")
message("✔ Se vació la tabla 'logs'. (0 filas ahora)")
} else {
# Si la tabla no existe, la creo
dbExecute(con, "
CREATE TABLE logs (
session_id TEXT PRIMARY KEY,
nombre TEXT,
edad INTEGER,
fecha_inicio TEXT,
ultima_actualizacion TEXT,
completado INTEGER
);
")
message("✔ La tabla 'logs' no existía, así que fue creada.")
}
dbDisconnect(con)
message("✔ Conexión cerrada.")
library(DBI)
library(RSQLite)
# 1. Definir la ruta de la base
db_path <- "Z:/z_PISA-Uruguay/z_IT/FormGURI/data/encuesta.sqlite"
# 2. Verificar que existe
if (!file.exists(db_path)) stop("❌ No se encontró la base en: ", db_path)
# 3. Conectar
con <- dbConnect(SQLite(), db_path)
# 4. Listar tablas
tablas <- dbListTables(con)
print(tablas)
# 5. Cargar tabla logs
if ("logs" %in% tablas) {
logs_df <- dbReadTable(con, "logs")
head(logs_df)
} else {
logs_df <- NULL
warning("La tabla 'logs' no existe.")
}
# 6. Cerrar conexión
dbDisconnect(con)
library(DBI)
library(RSQLite)
# 1. Definir la ruta de la base
db_path <- "Z:/z_PISA-Uruguay/z_IT/FormGURI/data/encuesta.sqlite"
# 2. Verificar que existe
if (!file.exists(db_path)) stop("❌ No se encontró la base en: ", db_path)
# 3. Conectar
con <- dbConnect(SQLite(), db_path)
# 4. Listar tablas
tablas <- dbListTables(con)
print(tablas)
# 5. Cargar tabla logs
if ("logs" %in% tablas) {
logs_df <- dbReadTable(con, "logs")
head(logs_df)
} else {
logs_df <- NULL
warning("La tabla 'logs' no existe.")
}
# 6. Cerrar conexión
dbDisconnect(con)
View(logs_df)
runApp()
library(DBI)
library(RSQLite)
# 1. Definir la ruta de la base
db_path <- "Z:/z_PISA-Uruguay/z_IT/FormGURI/encuesta.sqlite"
# 2. Verificar que existe
if (!file.exists(db_path)) stop("❌ No se encontró la base en: ", db_path)
# 3. Conectar
con <- dbConnect(SQLite(), db_path)
# 4. Listar tablas
tablas <- dbListTables(con)
print(tablas)
# 5. Cargar tabla logs
if ("logs" %in% tablas) {
logs_df <- dbReadTable(con, "logs")
head(logs_df)
} else {
logs_df <- NULL
warning("La tabla 'logs' no existe.")
}
# 6. Cerrar conexión
dbDisconnect(con)
View(logs_df)
View(logs_df)
runApp()
runApp()
#!/usr/bin/env Rscript
library(DBI)
library(RSQLite)
ruta_db <- "Z:/z_PISA-Uruguay/z_IT/FormGURI/data/encuesta.sqlite"
# Crear carpeta si no existe
if (!dir.exists("data")) dir.create("data")
con <- dbConnect(RSQLite::SQLite(), ruta_db)
tablas <- dbListTables(con)
if ("logs" %in% tablas) {
dbExecute(con, "DELETE FROM logs;")
message("✔ Se vació la tabla 'logs'. (0 filas ahora)")
} else {
# Si la tabla no existe, la creo
dbExecute(con, "
CREATE TABLE logs (
session_id TEXT PRIMARY KEY,
nombre TEXT,
edad INTEGER,
fecha_inicio TEXT,
ultima_actualizacion TEXT,
completado INTEGER
);
")
message("✔ La tabla 'logs' no existía, así que fue creada.")
}
dbDisconnect(con)
message("✔ Conexión cerrada.")
runApp()
#!/usr/bin/env Rscript
library(DBI)
library(RSQLite)
ruta_db <- "Z:/z_PISA-Uruguay/z_IT/FormGURI/data/encuesta.sqlite"
# Crear carpeta si no existe
if (!dir.exists("data")) dir.create("data")
con <- dbConnect(RSQLite::SQLite(), ruta_db)
tablas <- dbListTables(con)
if ("logs" %in% tablas) {
dbExecute(con, "DELETE FROM logs;")
message("✔ Se vació la tabla 'logs'. (0 filas ahora)")
}
dbDisconnect(con)
message("✔ Conexión cerrada.")
library(DBI)
library(RSQLite)
# 1. Definir la ruta de la base
db_path <- "Z:/z_PISA-Uruguay/z_IT/FormGURI/data/encuesta.sqlite"
# 2. Verificar que existe
if (!file.exists(db_path)) stop("❌ No se encontró la base en: ", db_path)
# 3. Conectar
con <- dbConnect(SQLite(), db_path)
# 4. Listar tablas
tablas <- dbListTables(con)
print(tablas)
# 5. Cargar tabla logs
if ("logs" %in% tablas) {
logs_df <- dbReadTable(con, "logs")
head(logs_df)
} else {
logs_df <- NULL
warning("La tabla 'logs' no existe.")
}
# 6. Cerrar conexión
dbDisconnect(con)
View(logs_df)
runApp()
library(DBI)
library(RSQLite)
# 1. Definir la ruta de la base
db_path <- "Z:/z_PISA-Uruguay/z_IT/FormGURI/data/encuesta.sqlite"
# 2. Verificar que existe
if (!file.exists(db_path)) stop("❌ No se encontró la base en: ", db_path)
# 3. Conectar
con <- dbConnect(SQLite(), db_path)
# 4. Listar tablas
tablas <- dbListTables(con)
print(tablas)
# 5. Cargar tabla logs
if ("logs" %in% tablas) {
logs_df <- dbReadTable(con, "logs")
head(logs_df)
} else {
logs_df <- NULL
warning("La tabla 'logs' no existe.")
}
# 6. Cerrar conexión
dbDisconnect(con)
View(logs_df)
library(DBI)
library(RSQLite)
# 1. Definir la ruta de la base
db_path <- "Z:/z_PISA-Uruguay/z_IT/FormGURI/data/encuesta.sqlite-journal"
# 2. Verificar que existe
if (!file.exists(db_path)) stop("❌ No se encontró la base en: ", db_path)
library(DBI)
library(RSQLite)
# 1. Definir la ruta de la base
db_path <- "Z:/z_PISA-Uruguay/z_IT/FormGURI/data/encuesta.sqlite"
# 2. Verificar que existe
if (!file.exists(db_path)) stop("❌ No se encontró la base en: ", db_path)
# 3. Conectar
con <- dbConnect(SQLite(), db_path)
# 4. Listar tablas
tablas <- dbListTables(con)
print(tablas)
# 5. Cargar tabla logs
if ("logs" %in% tablas) {
logs_df <- dbReadTable(con, "logs")
head(logs_df)
} else {
logs_df <- NULL
warning("La tabla 'logs' no existe.")
}
# 6. Cerrar conexión
dbDisconnect(con)
load("Z:/z_PISA-Uruguay/z_IT/FormGURI/.RData")
load("Z:/z_PISA-Uruguay/z_IT/FormGURI/.RData")
library(DBI)
library(RSQLite)
# 1. Definir la ruta de la base
db_path <- "Z:/z_PISA-Uruguay/z_IT/FormGURI/data/encuesta.sqlite"
# 2. Verificar que existe
if (!file.exists(db_path)) stop("❌ No se encontró la base en: ", db_path)
# 3. Conectar
con <- dbConnect(SQLite(), db_path)
# 4. Listar tablas
tablas <- dbListTables(con)
print(tablas)
# 5. Cargar tabla logs
if ("logs" %in% tablas) {
logs_df <- dbReadTable(con, "logs")
head(logs_df)
} else {
logs_df <- NULL
warning("La tabla 'logs' no existe.")
}
# 6. Cerrar conexión
dbDisconnect(con)
View(logs_df)
library(DBI)
library(RSQLite)
# 1. Definir la ruta de la base
db_path <- "Z:/z_PISA-Uruguay/z_IT/FormGURI/data/encuesta.sqlite"
# 2. Verificar que existe
if (!file.exists(db_path)) stop("❌ No se encontró la base en: ", db_path)
# 3. Conectar
con <- dbConnect(SQLite(), db_path)
# 4. Listar tablas
tablas <- dbListTables(con)
print(tablas)
# 5. Cargar tabla logs
if ("logs" %in% tablas) {
logs_df <- dbReadTable(con, "logs")
head(logs_df)
} else {
logs_df <- NULL
warning("La tabla 'logs' no existe.")
}
if ("respuestas" %in% tablas) {
logs_df <- dbReadTable(con, "respuestas")
head(logs_df)
} else {
logs_df <- NULL
warning("La tabla 'respuestas' no existe.")
}
if ("sqlite_sequence" %in% tablas) {
logs_df <- dbReadTable(con, "sqlite_sequence")
head(logs_df)
} else {
logs_df <- NULL
warning("La tabla 'sqlite_sequence' no existe.")
}
# 6. Cerrar conexión
dbDisconnect(con)
library(DBI)
library(RSQLite)
# 1. Definir la ruta de la base
db_path <- "Z:/z_PISA-Uruguay/z_IT/FormGURI/data/encuesta.sqlite"
# 2. Verificar que existe
if (!file.exists(db_path)) stop("❌ No se encontró la base en: ", db_path)
# 3. Conectar
con <- dbConnect(SQLite(), db_path)
# 4. Listar tablas
tablas <- dbListTables(con)
print(tablas)
# 5. Cargar tabla logs
if ("logs" %in% tablas) {
logs_df <- dbReadTable(con, "logs")
head(logs_df)
} else {
logs_df <- NULL
warning("La tabla 'logs' no existe.")
}
if ("respuestas" %in% tablas) {
logs_df <- dbReadTable(con, "respuestas")
head(logs_df)
} else {
logs_df <- NULL
warning("La tabla 'respuestas' no existe.")
}
if ("sqlite_sequence" %in% tablas) {
logs_df <- dbReadTable(con, "sqlite_sequence")
head(logs_df)
} else {
logs_df <- NULL
warning("La tabla 'sqlite_sequence' no existe.")
}
# 6. Cerrar conexión
dbDisconnect(con)
View(logs_df)
library(DBI)
library(RSQLite)
# 1. Definir la ruta de la base
db_path <- "Z:/z_PISA-Uruguay/z_IT/FormGURI/data/encuesta.sqlite"
# 2. Verificar que existe
if (!file.exists(db_path)) stop("❌ No se encontró la base en: ", db_path)
# 3. Conectar
con <- dbConnect(SQLite(), db_path)
# 4. Listar tablas
tablas <- dbListTables(con)
print(tablas)  # verás "logs" y "respuestas"
# 5. Cargar tabla respuestas
if ("respuestas" %in% tablas) {
respuestas_df <- dbReadTable(con, "respuestas")
head(respuestas_df)  # muestra las primeras filas con edad, genero, satis, comentario
} else {
respuestas_df <- NULL
warning("La tabla 'respuestas' no existe.")
}
# 6. (Opcional) Cargar logs
if ("logs" %in% tablas) {
logs_df <- dbReadTable(con, "logs")
head(logs_df)
} else {
logs_df <- NULL
warning("La tabla 'logs' no existe.")
}
# 7. Cerrar conexión
dbDisconnect(con)
View(respuestas_df)
View(respuestas_df)
View(respuestas_df)
source("Z:/z_PISA-Uruguay/z_IT/FormGURI/verData.R")
source("Z:/z_PISA-Uruguay/z_IT/FormGURI/borrarData.R")
source("Z:/z_PISA-Uruguay/z_IT/FormGURI/borrarData.R")
source("Z:/z_PISA-Uruguay/z_IT/FormGURI/verData.R")
View(respuestas_df)
View(respuestas_df)
View(logs_df)
View(logs_df)
View(respuestas_df)
View(respuestas_df)
source("Z:/z_PISA-Uruguay/z_IT/FormGURI/borrarData.R")
View(respuestas_df)
View(respuestas_df)
# 2. Verificar que existe
if (!file.exists(db_path)) stop("❌ No se encontró la base en: ", db_path)
library(DBI)
library(RSQLite)
# 1. Definir la ruta de la base
db_path <- "Z:/z_PISA-Uruguay/z_IT/FormGURI/data/encuesta.sqlite"
# 2. Verificar que existe
if (!file.exists(db_path)) stop("❌ No se encontró la base en: ", db_path)
# 3. Conectar
con <- dbConnect(SQLite(), db_path)
# 4. Listar tablas
tablas <- dbListTables(con)
print(tablas)  # verás "logs" y "respuestas"
# 5. Cargar tabla respuestas
if ("respuestas" %in% tablas) {
respuestas_df <- dbReadTable(con, "respuestas")
head(respuestas_df)  # muestra las primeras filas con edad, genero, satis, comentario
} else {
respuestas_df <- NULL
warning("La tabla 'respuestas' no existe.")
}
# 6. (Opcional) Cargar logs
if ("logs" %in% tablas) {
logs_df <- dbReadTable(con, "logs")
head(logs_df)
} else {
logs_df <- NULL
warning("La tabla 'logs' no existe.")
}
# 7. Cerrar conexión
dbDisconnect(con)
View(respuestas_df)
runApp()
source("Z:/z_PISA-Uruguay/z_IT/FormGURI/verData.R")
View(respuestas_df)
View(respuestas_df)
runApp()
shiny::runApp()
